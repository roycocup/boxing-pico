pico-8 cartridge // http://www.pico-8.com
version 16
__lua__

frame = 0

function _init()
end

function _update()
    cls()
    countframes()
    p1.update()
end

function _draw()
    p1.draw()
end

function countframes()
    if (frame > 30) then
        frame = 0
    end
    frame = frame + 1
end


-->8
p1 = {}
p1.state = "idle"
p1.idle = {001, 017, 033, 017}
p1.animcount = 1
p1.animcell = p1.idle[p1.animcount]
p1.pos = {10, 10}

function p1.draw()
    spr(p1.animcell, p1.pos[1], p1.pos[2])
end

function p1.next()
    last = count(p1.idle)
    p1.animcount = p1.animcount + 1
	if (p1.animcount > last) then
        p1.animcount = 1
    end
    p1.animcell = p1.idle[p1.animcount] 
end

function p1.update()
    if (frame % (30/3) == 0 ) then
        p1.next()
    end
    if (btn(4)) then
        p1.animcell = 002
    end
    if (btn(5)) then
        p1.animcell = 003   
    end
    if (btn(0)) then
        p1.pos[1] = p1.pos[1] - 1    
    end
    if (btn(1)) then
        p1.pos[1] = p1.pos[1] + 1    
    end
    if (btn(2)) then
        p1.pos[2] = p1.pos[2] - 1    
    end
    if (btn(3)) then
        p1.pos[2] = p1.pos[2] + 1    
    end
end


__gfx__
00000000222280002222228022228000222280002222800000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000200000002000000020000000200000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700222000002220000022200000220000002220000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000222200002222000022220000222000002222000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000222000002220000022200000220000002220000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700200000002000000020000000200000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000222280002222000022222280222280002222800000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000222280000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000222000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000222280000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000222800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000222000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000222800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
